# -*- coding: utf-8 -*-
import numpy
from mpi4py import MPI
import time
import itertools
import sys

comm = MPI.COMM_WORLD
sub_comm = MPI.COMM_WORLD.Clone()
rank = comm.Get_rank()
size = comm.Get_size()

def run(repeats):
    """ Realizuje proces MC ... na razie nic więcej nie pamiętam... """
    # ------------------------
    # Definiujemy wektor, który dla każdemu nodowi określi 
    # liczbę powtórzeń, które ma wykonać.
    if rank == 0:
        # obliczenia te robimy tylko będąc masterem, 
        equal = numpy.ones(size) *  int(repeats/size)
        for i in range(repeats % size):
            equal[i] += 1
        n_repeats = equal
        print equal
        print '-' * 100
    else:
        n_repeats = None

if __name__ == "__main__":
    run(int(sys.argv[1]))
